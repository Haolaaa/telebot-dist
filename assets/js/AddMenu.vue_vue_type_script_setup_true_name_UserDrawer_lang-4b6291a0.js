import{d as b,aa as U,i,r as n,o as m,h as p,w as o,b as r,e as w,_ as x,al as y,a5 as C}from"./index-ac83fa3e.js";const N=b({name:"UserDrawer"}),M=b({...N,setup(D,{expose:c}){const V=U({"meta.title":[{required:!0,message:"请输入菜单名称",trigger:"blur"}],path:[{required:!0,message:"请输入菜单路径",trigger:"blur"}],name:[{required:!0,message:"请输入菜单标识",trigger:"blur"}],component:[{required:!0,message:"请输入菜单组件",trigger:"blur"}],redirect:[{required:!0,message:"请输入菜单跳转地址",trigger:"blur"}],sort:[{required:!0,message:"请输入菜单排序",trigger:"blur"}],"meta.icon":[{required:!0,message:"请输入菜单图标",trigger:"blur"}]}),s=i(!1),e=i({isView:!1,title:"",row:{meta:{icon:"",title:"",activeName:"",closeTab:!1,keepAlive:!1,defaultMenu:!1}}}),g=d=>{d.row.parentID,e.value=d,s.value=!0},v=i(),_=()=>{v.value.validate(async d=>{if(d)try{e.value.row.sort=Number(e.value.row.sort),await e.value.api(e.value.row),C.success({message:`${e.value.title}用户成功！`}),e.value.getTableList(),s.value=!1}catch{}})};return c({acceptParams:g}),(d,l)=>{const t=n("el-input"),u=n("el-form-item"),k=n("el-form"),f=n("el-button"),q=n("el-drawer");return m(),p(q,{modelValue:s.value,"onUpdate:modelValue":l[8]||(l[8]=a=>s.value=a),"destroy-on-close":!0,size:"450px",title:`${e.value.title}用户`},{footer:o(()=>[r(f,{onClick:l[7]||(l[7]=a=>s.value=!1)},{default:o(()=>[w(" 取消 ")]),_:1}),x(r(f,{type:"primary",onClick:_},{default:o(()=>[w(" 确定 ")]),_:1},512),[[y,!e.value.isView]])]),default:o(()=>[r(k,{ref_key:"ruleFormRef",ref:v,"label-width":"100px","label-suffix":" :",rules:V,disabled:e.value.isView,model:e.value.row,"hide-required-asterisk":e.value.isView},{default:o(()=>[r(u,{label:"菜单名称",prop:"meta.title"},{default:o(()=>[r(t,{modelValue:e.value.row.meta.title,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.row.meta.title=a),placeholder:"请填写菜单名称(中文)",clearable:""},null,8,["modelValue"])]),_:1}),r(u,{label:"菜单路径",prop:"path"},{default:o(()=>[r(t,{modelValue:e.value.row.path,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.row.path=a),placeholder:"请填写菜单路径",clearable:""},null,8,["modelValue"])]),_:1}),r(u,{label:"菜单标识",prop:"name"},{default:o(()=>[r(t,{modelValue:e.value.row.name,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.row.name=a),placeholder:"请填写菜单标识(英文)",clearable:""},null,8,["modelValue"])]),_:1}),Number(e.value.row.parentID)!==0?(m(),p(u,{key:0,label:"菜单组件",prop:"component"},{default:o(()=>[r(t,{modelValue:e.value.row.component,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.row.component=a),placeholder:"请填写菜单组件",clearable:""},null,8,["modelValue"])]),_:1})):(m(),p(u,{key:1,label:"菜单跳转",prop:"redirect"},{default:o(()=>[r(t,{modelValue:e.value.row.redirect,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.row.redirect=a),placeholder:"请填写菜单跳转地址",clearable:""},null,8,["modelValue"])]),_:1})),r(u,{label:"菜单排序",prop:"sort"},{default:o(()=>[r(t,{modelValue:e.value.row.sort,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.row.sort=a),placeholder:"请填写菜单排序",clearable:""},null,8,["modelValue"])]),_:1}),r(u,{label:"菜单图标",prop:"meta.icon"},{default:o(()=>[r(t,{modelValue:e.value.row.meta.icon,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.row.meta.icon=a),placeholder:"请填写菜单图标",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","disabled","model","hide-required-asterisk"])]),_:1},8,["modelValue","title"])}}});export{M as _};

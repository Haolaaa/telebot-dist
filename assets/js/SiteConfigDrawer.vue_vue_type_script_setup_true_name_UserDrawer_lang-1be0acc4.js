import{d as w,K as N,B as m,r as d,o as P,i as C,w as a,f as o,h as f,q as M,Y as q,O as x}from"./index-9b3ddb4e.js";const K=w({name:"UserDrawer"}),D=w({...K,setup(k,{expose:V}){const U=N({parentName:[{required:!0,message:"请选择站点归属",trigger:"blur"}],siteName:[{required:!0,message:"请输入站点名称",trigger:"blur"}],siteKey:[{required:!0,message:"请输入站点KEY",trigger:"blur"}],siteId:[{required:!0,message:"请输入站点标识",trigger:"blur"}],siteSign:[{required:!0,message:"请输入站点标识",trigger:"blur"}]}),i=m(!1),e=m({isView:!1,title:"",row:{}}),b=s=>{e.value=s,i.value=!0},n=m(),y=()=>{n.value.validate(async s=>{if(s)try{e.value.row.siteId=Number(e.value.row.siteId),await e.value.api(e.value.row),x.success({message:`${e.value.title}站点配置成功！`}),e.value.getTableList(),i.value=!1}catch{}})};return V({acceptParams:b}),(s,l)=>{const p=d("el-option"),_=d("el-select"),t=d("el-form-item"),u=d("el-input"),c=d("el-form"),v=d("el-button"),g=d("el-drawer");return P(),C(g,{modelValue:i.value,"onUpdate:modelValue":l[12]||(l[12]=r=>i.value=r),"destroy-on-close":!0,size:"450px",title:`${e.value.title}站点配置`},{footer:a(()=>[o(v,{onClick:l[11]||(l[11]=r=>i.value=!1)},{default:a(()=>[f(" 取消 ")]),_:1}),M(o(v,{type:"primary",onClick:y},{default:a(()=>[f(" 确定 ")]),_:1},512),[[q,!e.value.isView]])]),default:a(()=>[o(c,{ref_key:"ruleFormRef",ref:n,"label-width":"150px","label-suffix":" :",rules:U,disabled:e.value.isView,model:e.value.row,"hide-required-asterisk":e.value.isView},{default:a(()=>[o(t,{label:"站点归属",prop:"parentName"},{default:a(()=>[o(_,{modelValue:e.value.row.parentName,"onUpdate:modelValue":l[0]||(l[0]=r=>e.value.row.parentName=r),placeholder:"请选择站点归属"},{default:a(()=>[o(p,{label:"桃红",value:"桃红"}),o(p,{label:"集团",value:"集团"})]),_:1},8,["modelValue"])]),_:1}),o(t,{label:"站点名称",prop:"siteName"},{default:a(()=>[o(u,{modelValue:e.value.row.siteName,"onUpdate:modelValue":l[1]||(l[1]=r=>e.value.row.siteName=r),modelModifiers:{trim:!0},placeholder:"请输入站点名称"},null,8,["modelValue"])]),_:1}),o(t,{label:"站点KEY",prop:"siteKey"},{default:a(()=>[o(u,{modelValue:e.value.row.siteKey,"onUpdate:modelValue":l[2]||(l[2]=r=>e.value.row.siteKey=r),modelModifiers:{trim:!0},placeholder:"请输入站点KEY"},null,8,["modelValue"])]),_:1}),o(t,{label:"站点标识",prop:"siteId"},{default:a(()=>[o(u,{modelValue:e.value.row.siteId,"onUpdate:modelValue":l[3]||(l[3]=r=>e.value.row.siteId=r),modelModifiers:{trim:!0},placeholder:"请输入站点标识"},null,8,["modelValue"])]),_:1}),o(t,{label:"直连播放域名",prop:"directPlayUrl"},{default:a(()=>[o(u,{modelValue:e.value.row.directPlayUrl,"onUpdate:modelValue":l[4]||(l[4]=r=>e.value.row.directPlayUrl=r),modelModifiers:{trim:!0},placeholder:"请输入直连播放域名"},null,8,["modelValue"])]),_:1}),o(t,{label:"阿里云播放域名",prop:"cfPlayUrl"},{default:a(()=>[o(u,{modelValue:e.value.row.cfPlayUrl,"onUpdate:modelValue":l[5]||(l[5]=r=>e.value.row.cfPlayUrl=r),modelModifiers:{trim:!0},placeholder:"请输入CF播放域名"},null,8,["modelValue"])]),_:1}),o(t,{label:"NBCDN播放域名",prop:"cdnPlayUrl"},{default:a(()=>[o(u,{modelValue:e.value.row.cdnPlayUrl,"onUpdate:modelValue":l[6]||(l[6]=r=>e.value.row.cdnPlayUrl=r),modelModifiers:{trim:!0},placeholder:"请输入NBCDN播放域名"},null,8,["modelValue"])]),_:1}),o(t,{label:"华为云播放域名",prop:"cdnPlayUrl"},{default:a(()=>[o(u,{modelValue:e.value.row.hcPlayUrl,"onUpdate:modelValue":l[7]||(l[7]=r=>e.value.row.hcPlayUrl=r),modelModifiers:{trim:!0},placeholder:"请输入华为云播放域名"},null,8,["modelValue"])]),_:1}),o(t,{label:"NBCDNCF播放域名",prop:"cdnPlayUrl"},{default:a(()=>[o(u,{modelValue:e.value.row.nbcdncfPlayUrl,"onUpdate:modelValue":l[8]||(l[8]=r=>e.value.row.nbcdncfPlayUrl=r),modelModifiers:{trim:!0},placeholder:"请输入NBCDNCF播放域名"},null,8,["modelValue"])]),_:1}),o(t,{label:"视频封面域名",prop:"videoCover"},{default:a(()=>[o(u,{modelValue:e.value.row.videoCover,"onUpdate:modelValue":l[9]||(l[9]=r=>e.value.row.videoCover=r),modelModifiers:{trim:!0},placeholder:"请输入封面域名"},null,8,["modelValue"])]),_:1}),o(t,{label:"下载域名",prop:"downloadUrl"},{default:a(()=>[o(u,{modelValue:e.value.row.downloadUrl,"onUpdate:modelValue":l[10]||(l[10]=r=>e.value.row.downloadUrl=r),modelModifiers:{trim:!0},placeholder:"请输入下载域名"},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","disabled","model","hide-required-asterisk"])]),_:1},8,["modelValue","title"])}}});export{D as _};

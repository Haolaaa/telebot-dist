import{d as _,i,r as m,o as y,c as w,b as a,w as r,u as p,W as D,e as c,X as v,Y as C,F as x}from"./index-4d49774a.js";import{_ as T}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-f0dfa2f1.js";import{_ as U}from"./UserDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-b928d687.js";import{G as $,R as A,S as N,D as h}from"./user-62de6627.js";import{u as I}from"./useHandleData-ce997433.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./auth-e47e6c1a.js";const L={class:"table-box"},R=_({name:"accountManage"}),E=_({...R,setup(S){const l=i(),u=i(),b=async()=>{const e=await $({page:1,pageSize:10});u.value=e.data.list},g=[{prop:"userName",label:"用户名"},{prop:"nickName",label:"昵称"},{prop:"authorityID",label:"角色ID"},{prop:"enable",label:"启用",render({row:e}){return a(x,null,[a(m("el-tag"),{type:{1:"success",0:"danger"}[e.enable]||"info"},{default:()=>[{1:"启用",0:"禁用"}[e.enable]||"未知"]})])}},{prop:"operation",label:"操作",width:250,fixed:"right"}],d=i(null),f=(e,t={})=>{var o,s;const n={title:e,isView:e==="查看",row:{...t},api:e==="新增"?A:e==="编辑"?N:void 0,getTableList:(o=l.value)==null?void 0:o.getTableList};(s=d.value)==null||s.acceptParams(n)},k=async e=>{await I(h,{id:e.ID},`删除【${e.nickName}】`),l.value.getTableList()};return(e,t)=>{const n=m("el-button");return y(),w("div",L,[a(T,{ref_key:"proTable",ref:l,title:"角色列表","row-key":"path",indent:30,columns:g,data:u.value,pagination:!1,"request-api":b},{tableHeader:r(()=>[a(n,{type:"primary",icon:p(D),onClick:t[0]||(t[0]=o=>f("新增"))},{default:r(()=>[c("新增角色 ")]),_:1},8,["icon"])]),operation:r(o=>[a(n,{type:"primary",link:"",icon:p(v),onClick:t[1]||(t[1]=s=>f("编辑"))},{default:r(()=>[c("编辑")]),_:1},8,["icon"]),a(n,{type:"primary",link:"",icon:p(C),onClick:s=>k(o.row)},{default:r(()=>[c("删除")]),_:2},1032,["icon","onClick"])]),_:1},8,["data"]),a(U,{ref_key:"UserDrawerRef",ref:d},null,512)])}}});export{E as default};

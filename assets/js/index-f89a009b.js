import{d as _,B as i,r as m,o as y,e as w,f as a,w as r,g as p,j as D,h as c,l as v,m as C,J as x}from"./index-91310eef.js";import{_ as T}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-b795db31.js";import{_ as U}from"./UserDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-da27402f.js";import{G as $,R as h,S as A,D as N}from"./user-46bdfa6f.js";import{u as I}from"./useHandleData-999188b0.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./auth-564ff5d7.js";const L={class:"table-box"},R=_({name:"accountManage"}),E=_({...R,setup(B){const l=i(),u=i(),b=async()=>{const e=await $({page:1,pageSize:10});u.value=e.data.list},g=[{prop:"userName",label:"用户名"},{prop:"nickName",label:"昵称"},{prop:"authorityID",label:"角色ID"},{prop:"enable",label:"启用",render({row:e}){return a(x,null,[a(m("el-tag"),{type:{1:"success",0:"danger"}[e.enable]||"info"},{default:()=>[{1:"启用",0:"禁用"}[e.enable]||"未知"]})])}},{prop:"operation",label:"操作",width:250,fixed:"right"}],f=i(null),d=(e,t={})=>{var o,s;const n={title:e,isView:e==="查看",row:{...t},api:e==="新增"?h:e==="编辑"?A:void 0,getTableList:(o=l.value)==null?void 0:o.getTableList};(s=f.value)==null||s.acceptParams(n)},k=async e=>{await I(N,{id:e.ID},`删除【${e.nickName}】`),l.value.getTableList()};return(e,t)=>{const n=m("el-button");return y(),w("div",L,[a(T,{ref_key:"proTable",ref:l,title:"角色列表","row-key":"path",indent:30,columns:g,data:u.value,pagination:!1,"request-api":b},{tableHeader:r(()=>[a(n,{type:"primary",icon:p(D),onClick:t[0]||(t[0]=o=>d("新增"))},{default:r(()=>[c("新增角色 ")]),_:1},8,["icon"])]),operation:r(o=>[a(n,{type:"primary",link:"",icon:p(v),onClick:t[1]||(t[1]=s=>d("编辑"))},{default:r(()=>[c("编辑")]),_:1},8,["icon"]),a(n,{type:"primary",link:"",icon:p(C),onClick:s=>k(o.row)},{default:r(()=>[c("删除")]),_:2},1032,["icon","onClick"])]),_:1},8,["data"]),a(U,{ref_key:"UserDrawerRef",ref:f},null,512)])}}});export{E as default};

import{d as f,aa as C,i as n,r as d,o as N,h as P,w as o,b as r,e as w,_ as q,al as x,a5 as K}from"./index-7ab3d743.js";const k=f({name:"UserDrawer"}),E=f({...k,setup(D,{expose:V}){const g=C({parentName:[{required:!0,message:"请选择站点归属",trigger:"blur"}],siteName:[{required:!0,message:"请输入站点名称",trigger:"blur"}],siteKey:[{required:!0,message:"请输入站点KEY",trigger:"blur"}],siteID:[{required:!0,message:"请输入站点标识",trigger:"blur"}],siteSign:[{required:!0,message:"请输入站点标识",trigger:"blur"}],directPlayUrl:[{required:!0,message:"请输入直连播放地址",trigger:"blur"}],cfPlayUrl:[{required:!0,message:"请输入CF播放地址",trigger:"blur"}],cdnPlayUrl:[{required:!0,message:"请输入CDN播放地址",trigger:"blur"}],videoCover:[{required:!0,message:"请输入视频封面",trigger:"blur"}],downloadUrl:[{required:!0,message:"请输入下载地址",trigger:"blur"}]}),s=n(!1),e=n({isView:!1,title:"",row:{}}),b=i=>{e.value=i,s.value=!0},m=n(),U=()=>{m.value.validate(async i=>{if(i)try{e.value.row.siteId=Number(e.value.row.siteId),await e.value.api(e.value.row),K.success({message:`${e.value.title}用户成功！`}),e.value.getTableList(),s.value=!1}catch{}})};return V({acceptParams:b}),(i,l)=>{const p=d("el-option"),_=d("el-select"),t=d("el-form-item"),u=d("el-input"),c=d("el-form"),v=d("el-button"),y=d("el-drawer");return N(),P(y,{modelValue:s.value,"onUpdate:modelValue":l[10]||(l[10]=a=>s.value=a),"destroy-on-close":!0,size:"450px",title:`${e.value.title}站点配置`},{footer:o(()=>[r(v,{onClick:l[9]||(l[9]=a=>s.value=!1)},{default:o(()=>[w(" 取消 ")]),_:1}),q(r(v,{type:"primary",onClick:U},{default:o(()=>[w(" 确定 ")]),_:1},512),[[x,!e.value.isView]])]),default:o(()=>[r(c,{ref_key:"ruleFormRef",ref:m,"label-width":"150px","label-suffix":" :",rules:g,disabled:e.value.isView,model:e.value.row,"hide-required-asterisk":e.value.isView},{default:o(()=>[r(t,{label:"站点归属",prop:"parentName"},{default:o(()=>[r(_,{modelValue:e.value.row.parentName,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.row.parentName=a),placeholder:"请选择站点归属"},{default:o(()=>[r(p,{label:"桃红",value:"桃红"}),r(p,{label:"集团",value:"集团"})]),_:1},8,["modelValue"])]),_:1}),r(t,{label:"站点名称",prop:"siteName"},{default:o(()=>[r(u,{modelValue:e.value.row.siteName,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.row.siteName=a),placeholder:"请输入站点名称"},null,8,["modelValue"])]),_:1}),r(t,{label:"站点KEY",prop:"siteKey"},{default:o(()=>[r(u,{modelValue:e.value.row.siteKey,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.row.siteKey=a),placeholder:"请输入站点KEY"},null,8,["modelValue"])]),_:1}),r(t,{label:"站点标识",prop:"siteID"},{default:o(()=>[r(u,{modelValue:e.value.row.siteId,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.row.siteId=a),placeholder:"请输入站点KEY"},null,8,["modelValue"])]),_:1}),r(t,{label:"直连播放地址",prop:"directPlayUrl"},{default:o(()=>[r(u,{modelValue:e.value.row.directPlayUrl,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.row.directPlayUrl=a),placeholder:"请输入直连播放地址"},null,8,["modelValue"])]),_:1}),r(t,{label:"CF播放地址",prop:"cfPlayUrl"},{default:o(()=>[r(u,{modelValue:e.value.row.cfPlayUrl,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.row.cfPlayUrl=a),placeholder:"请输入CF播放地址"},null,8,["modelValue"])]),_:1}),r(t,{label:"CDN播放地址",prop:"cdnPlayUrl"},{default:o(()=>[r(u,{modelValue:e.value.row.cdnPlayUrl,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.row.cdnPlayUrl=a),placeholder:"请输入CDN播放地址"},null,8,["modelValue"])]),_:1}),r(t,{label:"视频封面",prop:"videoCover"},{default:o(()=>[r(u,{modelValue:e.value.row.videoCover,"onUpdate:modelValue":l[7]||(l[7]=a=>e.value.row.videoCover=a),placeholder:"请输入视频封面"},null,8,["modelValue"])]),_:1}),r(t,{label:"下载地址",prop:"downloadUrl"},{default:o(()=>[r(u,{modelValue:e.value.row.downloadUrl,"onUpdate:modelValue":l[8]||(l[8]=a=>e.value.row.downloadUrl=a),placeholder:"请输入下载地址"},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","disabled","model","hide-required-asterisk"])]),_:1},8,["modelValue","title"])}}});export{E as _};
